# ImmutableX Android SDK

The ImmutableX Android SDK makes it easy for you to integrate with the ImmutableX protocol.

## Requirements
* Android version 8.1 (API 27) and above

## Installation
1. Add dependency to your app `build.gradle` file:
```
dependencies {
    implementation 'com.immutable.wallet:imx-android-sdk:$version'
}
```
2. Set the correct environment (Ropsten or Production/Mainnet)
```
ImmutableXSdk.setBase(ImmutableXBase.Ropsten)
```

## ImmutableX API
[ImmutableX API](https://docs.x.immutable.com/reference) endpoints are accessible via autogenerated API wrapper clients.

e.g. Get a list of collections ordered by name in ascending order
```
val response = CollectionsApi().getCollections(
    pageSize = 20,
    cursor = null,
    orderBy = "name",
    direction = "asc",
    blacklist = null
)
```

## Workflow Functions
Utility functions that will chain necessary API calls to complete a process or perform a transaction.

* Register a user with ImmutableX and returns the Stark key pair
* Buy cryptocurrency via Moonpay
* Buy ERC721
* Sell ERC721
* Cancel listing
* Transfer ERC20/ERC721/ETH

### Wallet Connection
In order to use any workflow functions, you will need to pass in the connected wallet provider. This means you will need to implement your own Wallet L1 [Signer](https://github.com/immutable/imx-android-sdk/blob/184be52a85a4415cbce1b8edfd60b52a4b7062fd/imx-android-sdk/src/main/java/com/immutable/sdk/Signer.kt#L5) and L2 [StarkSigner](https://github.com/immutable/imx-android-sdk/blob/184be52a85a4415cbce1b8edfd60b52a4b7062fd/imx-android-sdk/src/main/java/com/immutable/sdk/Signer.kt#L25) (see [sample](https://github.com/immutable/imx-android-sdk/tree/main/sample) app for an example on how to implement these two interfaces).

Alternatively, you could use our [ImmutableX Wallet Android SDK](https://github.com/immutable/imx-wallet-android-sdk) which already supports a list of wallet providers and works seamlessly with this ImmutableX Android SDK.

## Example
See [sample](https://github.com/immutable/imx-android-sdk/tree/main/sample) app.

## Regenerating the API wrapper client
To update the autogenerated API wrappers, first, update the `swagger.json` OpenAPI specification.

## Updating autogenerated documentation
The documentation in /docs is autogenerated using Dokka and can be triggered by calling `./gradlew dokkaHtml`

The API generation always happens on preBuild so triggering a project build will regenerate them.

## License
ImmutableX Android SDK repository is distributed under the terms of the [Apache License (Version 2.0)](LICENSE).